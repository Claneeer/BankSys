{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":26,"index":26}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":27},"end":{"line":2,"column":69,"index":96}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _axios = require(_dependencyMap[1], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[2], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  const API_BASE_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL;\n  class AuthController {\n    token = null;\n    async login(credentials) {\n      try {\n        const response = await axios.default.post(`${API_BASE_URL}/api/auth/login`, credentials);\n        const authData = response.data;\n\n        // Store token\n        this.token = authData.access_token;\n        await AsyncStorage.default.setItem('auth_token', authData.access_token);\n        await AsyncStorage.default.setItem('user_data', JSON.stringify(authData.user));\n        return authData;\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    }\n    async register(userData) {\n      try {\n        const response = await axios.default.post(`${API_BASE_URL}/api/auth/register`, userData);\n        return response.data;\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Registration failed');\n      }\n    }\n    async logout() {\n      this.token = null;\n      await AsyncStorage.default.removeItem('auth_token');\n      await AsyncStorage.default.removeItem('user_data');\n    }\n    async getCurrentUser() {\n      try {\n        const token = await this.getToken();\n        if (!token) return null;\n        const response = await axios.default.get(`${API_BASE_URL}/api/auth/me`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        return response.data;\n      } catch (error) {\n        await this.logout(); // Clear invalid token\n        return null;\n      }\n    }\n    async getToken() {\n      if (this.token) return this.token;\n      try {\n        const token = await AsyncStorage.default.getItem('auth_token');\n        this.token = token;\n        return token;\n      } catch (error) {\n        return null;\n      }\n    }\n    async getStoredUser() {\n      try {\n        const userDataStr = await AsyncStorage.default.getItem('user_data');\n        return userDataStr ? JSON.parse(userDataStr) : null;\n      } catch (error) {\n        return null;\n      }\n    }\n    async isAuthenticated() {\n      const token = await this.getToken();\n      return !!token;\n    }\n\n    // Helper method to get headers with auth token\n    async getAuthHeaders() {\n      const token = await this.getToken();\n      return token ? {\n        Authorization: `Bearer ${token}`\n      } : {};\n    }\n  }\n  var _default = new AuthController();\n});","lineCount":100,"map":[[12,2,90,0,"Object"],[12,8,90,0],[12,9,90,0,"defineProperty"],[12,23,90,0],[12,24,90,0,"exports"],[12,31,90,0],[13,4,90,0,"enumerable"],[13,14,90,0],[14,4,90,0,"get"],[14,7,90,0],[14,18,90,0,"get"],[14,19,90,0],[15,6,90,0],[15,13,90,0,"_default"],[15,21,90,0],[16,4,90,0],[17,2,90,0],[18,2,90,36],[18,6,90,36,"_expoVirtualEnv"],[18,21,90,36],[18,24,90,36,"require"],[18,31,90,36],[18,32,90,36,"_dependencyMap"],[18,46,90,36],[19,2,1,0],[19,6,1,0,"_axios"],[19,12,1,0],[19,15,1,0,"require"],[19,22,1,0],[19,23,1,0,"_dependencyMap"],[19,37,1,0],[20,2,1,0],[20,6,1,0,"axios"],[20,11,1,0],[20,14,1,0,"_interopDefault"],[20,29,1,0],[20,30,1,0,"_axios"],[20,36,1,0],[21,2,2,0],[21,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[21,42,2,0],[21,45,2,0,"require"],[21,52,2,0],[21,53,2,0,"_dependencyMap"],[21,67,2,0],[22,2,2,0],[22,6,2,0,"AsyncStorage"],[22,18,2,0],[22,21,2,0,"_interopDefault"],[22,36,2,0],[22,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[22,73,2,0],[23,2,5,0],[23,8,5,6,"API_BASE_URL"],[23,20,5,18],[23,23,5,18,"_expoVirtualEnv"],[23,38,5,18],[23,39,5,18,"env"],[23,42,5,18],[23,43,5,18,"EXPO_PUBLIC_BACKEND_URL"],[23,66,5,56],[24,2,7,0],[24,8,7,6,"AuthController"],[24,22,7,20],[24,23,7,21],[25,4,8,10,"token"],[25,9,8,15],[25,12,8,33],[25,16,8,37],[26,4,10,2],[26,10,10,8,"login"],[26,15,10,13,"login"],[26,16,10,14,"credentials"],[26,27,10,43],[26,29,10,68],[27,6,11,4],[27,10,11,8],[28,8,12,6],[28,14,12,12,"response"],[28,22,12,20],[28,25,12,23],[28,31,12,29,"axios"],[28,36,12,34],[28,37,12,34,"default"],[28,44,12,34],[28,45,12,35,"post"],[28,49,12,39],[28,50,12,40],[28,53,12,43,"API_BASE_URL"],[28,65,12,55],[28,82,12,72],[28,84,12,74,"credentials"],[28,95,12,85],[28,96,12,86],[29,8,13,6],[29,14,13,12,"authData"],[29,22,13,34],[29,25,13,37,"response"],[29,33,13,45],[29,34,13,46,"data"],[29,38,13,50],[31,8,15,6],[32,8,16,6],[32,12,16,10],[32,13,16,11,"token"],[32,18,16,16],[32,21,16,19,"authData"],[32,29,16,27],[32,30,16,28,"access_token"],[32,42,16,40],[33,8,17,6],[33,14,17,12,"AsyncStorage"],[33,26,17,24],[33,27,17,24,"default"],[33,34,17,24],[33,35,17,25,"setItem"],[33,42,17,32],[33,43,17,33],[33,55,17,45],[33,57,17,47,"authData"],[33,65,17,55],[33,66,17,56,"access_token"],[33,78,17,68],[33,79,17,69],[34,8,18,6],[34,14,18,12,"AsyncStorage"],[34,26,18,24],[34,27,18,24,"default"],[34,34,18,24],[34,35,18,25,"setItem"],[34,42,18,32],[34,43,18,33],[34,54,18,44],[34,56,18,46,"JSON"],[34,60,18,50],[34,61,18,51,"stringify"],[34,70,18,60],[34,71,18,61,"authData"],[34,79,18,69],[34,80,18,70,"user"],[34,84,18,74],[34,85,18,75],[34,86,18,76],[35,8,20,6],[35,15,20,13,"authData"],[35,23,20,21],[36,6,21,4],[36,7,21,5],[36,8,21,6],[36,15,21,13,"error"],[36,20,21,23],[36,22,21,25],[37,8,22,6],[37,14,22,12],[37,18,22,16,"Error"],[37,23,22,21],[37,24,22,22,"error"],[37,29,22,27],[37,30,22,28,"response"],[37,38,22,36],[37,40,22,38,"data"],[37,44,22,42],[37,46,22,44,"detail"],[37,52,22,50],[37,56,22,54],[37,70,22,68],[37,71,22,69],[38,6,23,4],[39,4,24,2],[40,4,26,2],[40,10,26,8,"register"],[40,18,26,16,"register"],[40,19,26,17,"userData"],[40,27,26,39],[40,29,26,56],[41,6,27,4],[41,10,27,8],[42,8,28,6],[42,14,28,12,"response"],[42,22,28,20],[42,25,28,23],[42,31,28,29,"axios"],[42,36,28,34],[42,37,28,34,"default"],[42,44,28,34],[42,45,28,35,"post"],[42,49,28,39],[42,50,28,40],[42,53,28,43,"API_BASE_URL"],[42,65,28,55],[42,85,28,75],[42,87,28,77,"userData"],[42,95,28,85],[42,96,28,86],[43,8,29,6],[43,15,29,13,"response"],[43,23,29,21],[43,24,29,22,"data"],[43,28,29,26],[44,6,30,4],[44,7,30,5],[44,8,30,6],[44,15,30,13,"error"],[44,20,30,23],[44,22,30,25],[45,8,31,6],[45,14,31,12],[45,18,31,16,"Error"],[45,23,31,21],[45,24,31,22,"error"],[45,29,31,27],[45,30,31,28,"response"],[45,38,31,36],[45,40,31,38,"data"],[45,44,31,42],[45,46,31,44,"detail"],[45,52,31,50],[45,56,31,54],[45,77,31,75],[45,78,31,76],[46,6,32,4],[47,4,33,2],[48,4,35,2],[48,10,35,8,"logout"],[48,16,35,14,"logout"],[48,17,35,14],[48,19,35,32],[49,6,36,4],[49,10,36,8],[49,11,36,9,"token"],[49,16,36,14],[49,19,36,17],[49,23,36,21],[50,6,37,4],[50,12,37,10,"AsyncStorage"],[50,24,37,22],[50,25,37,22,"default"],[50,32,37,22],[50,33,37,23,"removeItem"],[50,43,37,33],[50,44,37,34],[50,56,37,46],[50,57,37,47],[51,6,38,4],[51,12,38,10,"AsyncStorage"],[51,24,38,22],[51,25,38,22,"default"],[51,32,38,22],[51,33,38,23,"removeItem"],[51,43,38,33],[51,44,38,34],[51,55,38,45],[51,56,38,46],[52,4,39,2],[53,4,41,2],[53,10,41,8,"getCurrentUser"],[53,24,41,22,"getCurrentUser"],[53,25,41,22],[53,27,41,47],[54,6,42,4],[54,10,42,8],[55,8,43,6],[55,14,43,12,"token"],[55,19,43,17],[55,22,43,20],[55,28,43,26],[55,32,43,30],[55,33,43,31,"getToken"],[55,41,43,39],[55,42,43,40],[55,43,43,41],[56,8,44,6],[56,12,44,10],[56,13,44,11,"token"],[56,18,44,16],[56,20,44,18],[56,27,44,25],[56,31,44,29],[57,8,46,6],[57,14,46,12,"response"],[57,22,46,20],[57,25,46,23],[57,31,46,29,"axios"],[57,36,46,34],[57,37,46,34,"default"],[57,44,46,34],[57,45,46,35,"get"],[57,48,46,38],[57,49,46,39],[57,52,46,42,"API_BASE_URL"],[57,64,46,54],[57,78,46,68],[57,80,46,70],[58,10,47,8,"headers"],[58,17,47,15],[58,19,47,17],[59,12,47,19,"Authorization"],[59,25,47,32],[59,27,47,34],[59,37,47,44,"token"],[59,42,47,49],[60,10,47,52],[61,8,48,6],[61,9,48,7],[61,10,48,8],[62,8,50,6],[62,15,50,13,"response"],[62,23,50,21],[62,24,50,22,"data"],[62,28,50,26],[63,6,51,4],[63,7,51,5],[63,8,51,6],[63,15,51,13,"error"],[63,20,51,18],[63,22,51,20],[64,8,52,6],[64,14,52,12],[64,18,52,16],[64,19,52,17,"logout"],[64,25,52,23],[64,26,52,24],[64,27,52,25],[64,28,52,26],[64,29,52,27],[65,8,53,6],[65,15,53,13],[65,19,53,17],[66,6,54,4],[67,4,55,2],[68,4,57,2],[68,10,57,8,"getToken"],[68,18,57,16,"getToken"],[68,19,57,16],[68,21,57,43],[69,6,58,4],[69,10,58,8],[69,14,58,12],[69,15,58,13,"token"],[69,20,58,18],[69,22,58,20],[69,29,58,27],[69,33,58,31],[69,34,58,32,"token"],[69,39,58,37],[70,6,60,4],[70,10,60,8],[71,8,61,6],[71,14,61,12,"token"],[71,19,61,17],[71,22,61,20],[71,28,61,26,"AsyncStorage"],[71,40,61,38],[71,41,61,38,"default"],[71,48,61,38],[71,49,61,39,"getItem"],[71,56,61,46],[71,57,61,47],[71,69,61,59],[71,70,61,60],[72,8,62,6],[72,12,62,10],[72,13,62,11,"token"],[72,18,62,16],[72,21,62,19,"token"],[72,26,62,24],[73,8,63,6],[73,15,63,13,"token"],[73,20,63,18],[74,6,64,4],[74,7,64,5],[74,8,64,6],[74,15,64,13,"error"],[74,20,64,18],[74,22,64,20],[75,8,65,6],[75,15,65,13],[75,19,65,17],[76,6,66,4],[77,4,67,2],[78,4,69,2],[78,10,69,8,"getStoredUser"],[78,23,69,21,"getStoredUser"],[78,24,69,21],[78,26,69,46],[79,6,70,4],[79,10,70,8],[80,8,71,6],[80,14,71,12,"userDataStr"],[80,25,71,23],[80,28,71,26],[80,34,71,32,"AsyncStorage"],[80,46,71,44],[80,47,71,44,"default"],[80,54,71,44],[80,55,71,45,"getItem"],[80,62,71,52],[80,63,71,53],[80,74,71,64],[80,75,71,65],[81,8,72,6],[81,15,72,13,"userDataStr"],[81,26,72,24],[81,29,72,27,"JSON"],[81,33,72,31],[81,34,72,32,"parse"],[81,39,72,37],[81,40,72,38,"userDataStr"],[81,51,72,49],[81,52,72,50],[81,55,72,53],[81,59,72,57],[82,6,73,4],[82,7,73,5],[82,8,73,6],[82,15,73,13,"error"],[82,20,73,18],[82,22,73,20],[83,8,74,6],[83,15,74,13],[83,19,74,17],[84,6,75,4],[85,4,76,2],[86,4,78,2],[86,10,78,8,"isAuthenticated"],[86,25,78,23,"isAuthenticated"],[86,26,78,23],[86,28,78,44],[87,6,79,4],[87,12,79,10,"token"],[87,17,79,15],[87,20,79,18],[87,26,79,24],[87,30,79,28],[87,31,79,29,"getToken"],[87,39,79,37],[87,40,79,38],[87,41,79,39],[88,6,80,4],[88,13,80,11],[88,14,80,12],[88,15,80,13,"token"],[88,20,80,18],[89,4,81,2],[91,4,83,2],[92,4,84,2],[92,10,84,8,"getAuthHeaders"],[92,24,84,22,"getAuthHeaders"],[92,25,84,22],[92,27,84,66],[93,6,85,4],[93,12,85,10,"token"],[93,17,85,15],[93,20,85,18],[93,26,85,24],[93,30,85,28],[93,31,85,29,"getToken"],[93,39,85,37],[93,40,85,38],[93,41,85,39],[94,6,86,4],[94,13,86,11,"token"],[94,18,86,16],[94,21,86,19],[95,8,86,21,"Authorization"],[95,21,86,34],[95,23,86,36],[95,33,86,46,"token"],[95,38,86,51],[96,6,86,54],[96,7,86,55],[96,10,86,58],[96,11,86,59],[96,12,86,60],[97,4,87,2],[98,2,88,0],[99,2,90,0],[99,6,90,0,"_default"],[99,14,90,0],[99,17,90,15],[99,21,90,19,"AuthController"],[99,35,90,33],[99,36,90,34],[99,37,90,35],[100,0,90,36],[100,3]],"functionMap":{"names":["<global>","AuthController","login","register","logout","getCurrentUser","getToken","getStoredUser","isAuthenticated","getAuthHeaders"],"mappings":"AAA;ACM;ECG;GDc;EEE;GFO;EGE;GHI;EIE;GJc;EKE;GLU;EME;GNO;EOE;GPG;EQG;GRG;CDC"},"hasCjsExports":false},"type":"js/module"}]}