{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":26,"index":26}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":27},"end":{"line":2,"column":69,"index":96}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _axios = require(_dependencyMap[1], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[2], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  const API_BASE_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL;\n\n  // Simple storage fallback for web\n  const webStorage = {\n    async setItem(key, value) {\n      if (typeof window !== 'undefined') {\n        localStorage.setItem(key, value);\n      }\n    },\n    async getItem(key) {\n      if (typeof window !== 'undefined') {\n        return localStorage.getItem(key);\n      }\n      return null;\n    },\n    async removeItem(key) {\n      if (typeof window !== 'undefined') {\n        localStorage.removeItem(key);\n      }\n    }\n  };\n\n  // Use web storage on web, AsyncStorage on mobile\n  const storage = typeof window !== 'undefined' ? webStorage : AsyncStorage.default;\n  class AuthController {\n    token = null;\n    async login(credentials) {\n      try {\n        console.log('üîê AuthController login called with:', credentials.cpf);\n        console.log('üåê API URL:', API_BASE_URL);\n        const response = await axios.default.post(`${API_BASE_URL}/api/auth/login`, credentials);\n        const authData = response.data;\n        console.log('‚úÖ Login API response received:', {\n          user: authData.user.full_name\n        });\n\n        // Store token\n        this.token = authData.access_token;\n        await storage.setItem('auth_token', authData.access_token);\n        await storage.setItem('user_data', JSON.stringify(authData.user));\n        console.log('‚úÖ Token and user data stored');\n        return authData;\n      } catch (error) {\n        console.error('‚ùå Login error:', error);\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    }\n    async register(userData) {\n      try {\n        const response = await axios.default.post(`${API_BASE_URL}/api/auth/register`, userData);\n        return response.data;\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Registration failed');\n      }\n    }\n    async logout() {\n      this.token = null;\n      await storage.removeItem('auth_token');\n      await storage.removeItem('user_data');\n    }\n    async getCurrentUser() {\n      try {\n        const token = await this.getToken();\n        if (!token) return null;\n        const response = await axios.default.get(`${API_BASE_URL}/api/auth/me`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        return response.data;\n      } catch (error) {\n        await this.logout(); // Clear invalid token\n        return null;\n      }\n    }\n    async getToken() {\n      if (this.token) return this.token;\n      try {\n        const token = await storage.getItem('auth_token');\n        this.token = token;\n        return token;\n      } catch (error) {\n        return null;\n      }\n    }\n    async getStoredUser() {\n      try {\n        const userDataStr = await storage.getItem('user_data');\n        return userDataStr ? JSON.parse(userDataStr) : null;\n      } catch (error) {\n        return null;\n      }\n    }\n    async isAuthenticated() {\n      const token = await this.getToken();\n      return !!token;\n    }\n\n    // Helper method to get headers with auth token\n    async getAuthHeaders() {\n      const token = await this.getToken();\n      return token ? {\n        Authorization: `Bearer ${token}`\n      } : {};\n    }\n  }\n  var _default = new AuthController();\n});","lineCount":130,"map":[[12,2,121,0,"Object"],[12,8,121,0],[12,9,121,0,"defineProperty"],[12,23,121,0],[12,24,121,0,"exports"],[12,31,121,0],[13,4,121,0,"enumerable"],[13,14,121,0],[14,4,121,0,"get"],[14,7,121,0],[14,18,121,0,"get"],[14,19,121,0],[15,6,121,0],[15,13,121,0,"_default"],[15,21,121,0],[16,4,121,0],[17,2,121,0],[18,2,121,36],[18,6,121,36,"_expoVirtualEnv"],[18,21,121,36],[18,24,121,36,"require"],[18,31,121,36],[18,32,121,36,"_dependencyMap"],[18,46,121,36],[19,2,1,0],[19,6,1,0,"_axios"],[19,12,1,0],[19,15,1,0,"require"],[19,22,1,0],[19,23,1,0,"_dependencyMap"],[19,37,1,0],[20,2,1,0],[20,6,1,0,"axios"],[20,11,1,0],[20,14,1,0,"_interopDefault"],[20,29,1,0],[20,30,1,0,"_axios"],[20,36,1,0],[21,2,2,0],[21,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[21,42,2,0],[21,45,2,0,"require"],[21,52,2,0],[21,53,2,0,"_dependencyMap"],[21,67,2,0],[22,2,2,0],[22,6,2,0,"AsyncStorage"],[22,18,2,0],[22,21,2,0,"_interopDefault"],[22,36,2,0],[22,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[22,73,2,0],[23,2,5,0],[23,8,5,6,"API_BASE_URL"],[23,20,5,18],[23,23,5,18,"_expoVirtualEnv"],[23,38,5,18],[23,39,5,18,"env"],[23,42,5,18],[23,43,5,18,"EXPO_PUBLIC_BACKEND_URL"],[23,66,5,56],[25,2,7,0],[26,2,8,0],[26,8,8,6,"webStorage"],[26,18,8,16],[26,21,8,19],[27,4,9,2],[27,10,9,8,"setItem"],[27,17,9,15,"setItem"],[27,18,9,16,"key"],[27,21,9,27],[27,23,9,29,"value"],[27,28,9,42],[27,30,9,44],[28,6,10,4],[28,10,10,8],[28,17,10,15,"window"],[28,23,10,21],[28,28,10,26],[28,39,10,37],[28,41,10,39],[29,8,11,6,"localStorage"],[29,20,11,18],[29,21,11,19,"setItem"],[29,28,11,26],[29,29,11,27,"key"],[29,32,11,30],[29,34,11,32,"value"],[29,39,11,37],[29,40,11,38],[30,6,12,4],[31,4,13,2],[31,5,13,3],[32,4,14,2],[32,10,14,8,"getItem"],[32,17,14,15,"getItem"],[32,18,14,16,"key"],[32,21,14,27],[32,23,14,29],[33,6,15,4],[33,10,15,8],[33,17,15,15,"window"],[33,23,15,21],[33,28,15,26],[33,39,15,37],[33,41,15,39],[34,8,16,6],[34,15,16,13,"localStorage"],[34,27,16,25],[34,28,16,26,"getItem"],[34,35,16,33],[34,36,16,34,"key"],[34,39,16,37],[34,40,16,38],[35,6,17,4],[36,6,18,4],[36,13,18,11],[36,17,18,15],[37,4,19,2],[37,5,19,3],[38,4,20,2],[38,10,20,8,"removeItem"],[38,20,20,18,"removeItem"],[38,21,20,19,"key"],[38,24,20,30],[38,26,20,32],[39,6,21,4],[39,10,21,8],[39,17,21,15,"window"],[39,23,21,21],[39,28,21,26],[39,39,21,37],[39,41,21,39],[40,8,22,6,"localStorage"],[40,20,22,18],[40,21,22,19,"removeItem"],[40,31,22,29],[40,32,22,30,"key"],[40,35,22,33],[40,36,22,34],[41,6,23,4],[42,4,24,2],[43,2,25,0],[43,3,25,1],[45,2,27,0],[46,2,28,0],[46,8,28,6,"storage"],[46,15,28,13],[46,18,28,16],[46,25,28,23,"window"],[46,31,28,29],[46,36,28,34],[46,47,28,45],[46,50,28,48,"webStorage"],[46,60,28,58],[46,63,28,61,"AsyncStorage"],[46,75,28,73],[46,76,28,73,"default"],[46,83,28,73],[47,2,30,0],[47,8,30,6,"AuthController"],[47,22,30,20],[47,23,30,21],[48,4,31,10,"token"],[48,9,31,15],[48,12,31,33],[48,16,31,37],[49,4,33,2],[49,10,33,8,"login"],[49,15,33,13,"login"],[49,16,33,14,"credentials"],[49,27,33,43],[49,29,33,68],[50,6,34,4],[50,10,34,8],[51,8,35,6,"console"],[51,15,35,13],[51,16,35,14,"log"],[51,19,35,17],[51,20,35,18],[51,58,35,56],[51,60,35,58,"credentials"],[51,71,35,69],[51,72,35,70,"cpf"],[51,75,35,73],[51,76,35,74],[52,8,36,6,"console"],[52,15,36,13],[52,16,36,14,"log"],[52,19,36,17],[52,20,36,18],[52,33,36,31],[52,35,36,33,"API_BASE_URL"],[52,47,36,45],[52,48,36,46],[53,8,38,6],[53,14,38,12,"response"],[53,22,38,20],[53,25,38,23],[53,31,38,29,"axios"],[53,36,38,34],[53,37,38,34,"default"],[53,44,38,34],[53,45,38,35,"post"],[53,49,38,39],[53,50,38,40],[53,53,38,43,"API_BASE_URL"],[53,65,38,55],[53,82,38,72],[53,84,38,74,"credentials"],[53,95,38,85],[53,96,38,86],[54,8,39,6],[54,14,39,12,"authData"],[54,22,39,34],[54,25,39,37,"response"],[54,33,39,45],[54,34,39,46,"data"],[54,38,39,50],[55,8,41,6,"console"],[55,15,41,13],[55,16,41,14,"log"],[55,19,41,17],[55,20,41,18],[55,52,41,50],[55,54,41,52],[56,10,41,54,"user"],[56,14,41,58],[56,16,41,60,"authData"],[56,24,41,68],[56,25,41,69,"user"],[56,29,41,73],[56,30,41,74,"full_name"],[57,8,41,84],[57,9,41,85],[57,10,41,86],[59,8,43,6],[60,8,44,6],[60,12,44,10],[60,13,44,11,"token"],[60,18,44,16],[60,21,44,19,"authData"],[60,29,44,27],[60,30,44,28,"access_token"],[60,42,44,40],[61,8,45,6],[61,14,45,12,"storage"],[61,21,45,19],[61,22,45,20,"setItem"],[61,29,45,27],[61,30,45,28],[61,42,45,40],[61,44,45,42,"authData"],[61,52,45,50],[61,53,45,51,"access_token"],[61,65,45,63],[61,66,45,64],[62,8,46,6],[62,14,46,12,"storage"],[62,21,46,19],[62,22,46,20,"setItem"],[62,29,46,27],[62,30,46,28],[62,41,46,39],[62,43,46,41,"JSON"],[62,47,46,45],[62,48,46,46,"stringify"],[62,57,46,55],[62,58,46,56,"authData"],[62,66,46,64],[62,67,46,65,"user"],[62,71,46,69],[62,72,46,70],[62,73,46,71],[63,8,48,6,"console"],[63,15,48,13],[63,16,48,14,"log"],[63,19,48,17],[63,20,48,18],[63,50,48,48],[63,51,48,49],[64,8,50,6],[64,15,50,13,"authData"],[64,23,50,21],[65,6,51,4],[65,7,51,5],[65,8,51,6],[65,15,51,13,"error"],[65,20,51,23],[65,22,51,25],[66,8,52,6,"console"],[66,15,52,13],[66,16,52,14,"error"],[66,21,52,19],[66,22,52,20],[66,38,52,36],[66,40,52,38,"error"],[66,45,52,43],[66,46,52,44],[67,8,53,6],[67,14,53,12],[67,18,53,16,"Error"],[67,23,53,21],[67,24,53,22,"error"],[67,29,53,27],[67,30,53,28,"response"],[67,38,53,36],[67,40,53,38,"data"],[67,44,53,42],[67,46,53,44,"detail"],[67,52,53,50],[67,56,53,54],[67,70,53,68],[67,71,53,69],[68,6,54,4],[69,4,55,2],[70,4,57,2],[70,10,57,8,"register"],[70,18,57,16,"register"],[70,19,57,17,"userData"],[70,27,57,39],[70,29,57,56],[71,6,58,4],[71,10,58,8],[72,8,59,6],[72,14,59,12,"response"],[72,22,59,20],[72,25,59,23],[72,31,59,29,"axios"],[72,36,59,34],[72,37,59,34,"default"],[72,44,59,34],[72,45,59,35,"post"],[72,49,59,39],[72,50,59,40],[72,53,59,43,"API_BASE_URL"],[72,65,59,55],[72,85,59,75],[72,87,59,77,"userData"],[72,95,59,85],[72,96,59,86],[73,8,60,6],[73,15,60,13,"response"],[73,23,60,21],[73,24,60,22,"data"],[73,28,60,26],[74,6,61,4],[74,7,61,5],[74,8,61,6],[74,15,61,13,"error"],[74,20,61,23],[74,22,61,25],[75,8,62,6],[75,14,62,12],[75,18,62,16,"Error"],[75,23,62,21],[75,24,62,22,"error"],[75,29,62,27],[75,30,62,28,"response"],[75,38,62,36],[75,40,62,38,"data"],[75,44,62,42],[75,46,62,44,"detail"],[75,52,62,50],[75,56,62,54],[75,77,62,75],[75,78,62,76],[76,6,63,4],[77,4,64,2],[78,4,66,2],[78,10,66,8,"logout"],[78,16,66,14,"logout"],[78,17,66,14],[78,19,66,32],[79,6,67,4],[79,10,67,8],[79,11,67,9,"token"],[79,16,67,14],[79,19,67,17],[79,23,67,21],[80,6,68,4],[80,12,68,10,"storage"],[80,19,68,17],[80,20,68,18,"removeItem"],[80,30,68,28],[80,31,68,29],[80,43,68,41],[80,44,68,42],[81,6,69,4],[81,12,69,10,"storage"],[81,19,69,17],[81,20,69,18,"removeItem"],[81,30,69,28],[81,31,69,29],[81,42,69,40],[81,43,69,41],[82,4,70,2],[83,4,72,2],[83,10,72,8,"getCurrentUser"],[83,24,72,22,"getCurrentUser"],[83,25,72,22],[83,27,72,47],[84,6,73,4],[84,10,73,8],[85,8,74,6],[85,14,74,12,"token"],[85,19,74,17],[85,22,74,20],[85,28,74,26],[85,32,74,30],[85,33,74,31,"getToken"],[85,41,74,39],[85,42,74,40],[85,43,74,41],[86,8,75,6],[86,12,75,10],[86,13,75,11,"token"],[86,18,75,16],[86,20,75,18],[86,27,75,25],[86,31,75,29],[87,8,77,6],[87,14,77,12,"response"],[87,22,77,20],[87,25,77,23],[87,31,77,29,"axios"],[87,36,77,34],[87,37,77,34,"default"],[87,44,77,34],[87,45,77,35,"get"],[87,48,77,38],[87,49,77,39],[87,52,77,42,"API_BASE_URL"],[87,64,77,54],[87,78,77,68],[87,80,77,70],[88,10,78,8,"headers"],[88,17,78,15],[88,19,78,17],[89,12,78,19,"Authorization"],[89,25,78,32],[89,27,78,34],[89,37,78,44,"token"],[89,42,78,49],[90,10,78,52],[91,8,79,6],[91,9,79,7],[91,10,79,8],[92,8,81,6],[92,15,81,13,"response"],[92,23,81,21],[92,24,81,22,"data"],[92,28,81,26],[93,6,82,4],[93,7,82,5],[93,8,82,6],[93,15,82,13,"error"],[93,20,82,18],[93,22,82,20],[94,8,83,6],[94,14,83,12],[94,18,83,16],[94,19,83,17,"logout"],[94,25,83,23],[94,26,83,24],[94,27,83,25],[94,28,83,26],[94,29,83,27],[95,8,84,6],[95,15,84,13],[95,19,84,17],[96,6,85,4],[97,4,86,2],[98,4,88,2],[98,10,88,8,"getToken"],[98,18,88,16,"getToken"],[98,19,88,16],[98,21,88,43],[99,6,89,4],[99,10,89,8],[99,14,89,12],[99,15,89,13,"token"],[99,20,89,18],[99,22,89,20],[99,29,89,27],[99,33,89,31],[99,34,89,32,"token"],[99,39,89,37],[100,6,91,4],[100,10,91,8],[101,8,92,6],[101,14,92,12,"token"],[101,19,92,17],[101,22,92,20],[101,28,92,26,"storage"],[101,35,92,33],[101,36,92,34,"getItem"],[101,43,92,41],[101,44,92,42],[101,56,92,54],[101,57,92,55],[102,8,93,6],[102,12,93,10],[102,13,93,11,"token"],[102,18,93,16],[102,21,93,19,"token"],[102,26,93,24],[103,8,94,6],[103,15,94,13,"token"],[103,20,94,18],[104,6,95,4],[104,7,95,5],[104,8,95,6],[104,15,95,13,"error"],[104,20,95,18],[104,22,95,20],[105,8,96,6],[105,15,96,13],[105,19,96,17],[106,6,97,4],[107,4,98,2],[108,4,100,2],[108,10,100,8,"getStoredUser"],[108,23,100,21,"getStoredUser"],[108,24,100,21],[108,26,100,46],[109,6,101,4],[109,10,101,8],[110,8,102,6],[110,14,102,12,"userDataStr"],[110,25,102,23],[110,28,102,26],[110,34,102,32,"storage"],[110,41,102,39],[110,42,102,40,"getItem"],[110,49,102,47],[110,50,102,48],[110,61,102,59],[110,62,102,60],[111,8,103,6],[111,15,103,13,"userDataStr"],[111,26,103,24],[111,29,103,27,"JSON"],[111,33,103,31],[111,34,103,32,"parse"],[111,39,103,37],[111,40,103,38,"userDataStr"],[111,51,103,49],[111,52,103,50],[111,55,103,53],[111,59,103,57],[112,6,104,4],[112,7,104,5],[112,8,104,6],[112,15,104,13,"error"],[112,20,104,18],[112,22,104,20],[113,8,105,6],[113,15,105,13],[113,19,105,17],[114,6,106,4],[115,4,107,2],[116,4,109,2],[116,10,109,8,"isAuthenticated"],[116,25,109,23,"isAuthenticated"],[116,26,109,23],[116,28,109,44],[117,6,110,4],[117,12,110,10,"token"],[117,17,110,15],[117,20,110,18],[117,26,110,24],[117,30,110,28],[117,31,110,29,"getToken"],[117,39,110,37],[117,40,110,38],[117,41,110,39],[118,6,111,4],[118,13,111,11],[118,14,111,12],[118,15,111,13,"token"],[118,20,111,18],[119,4,112,2],[121,4,114,2],[122,4,115,2],[122,10,115,8,"getAuthHeaders"],[122,24,115,22,"getAuthHeaders"],[122,25,115,22],[122,27,115,66],[123,6,116,4],[123,12,116,10,"token"],[123,17,116,15],[123,20,116,18],[123,26,116,24],[123,30,116,28],[123,31,116,29,"getToken"],[123,39,116,37],[123,40,116,38],[123,41,116,39],[124,6,117,4],[124,13,117,11,"token"],[124,18,117,16],[124,21,117,19],[125,8,117,21,"Authorization"],[125,21,117,34],[125,23,117,36],[125,33,117,46,"token"],[125,38,117,51],[126,6,117,54],[126,7,117,55],[126,10,117,58],[126,11,117,59],[126,12,117,60],[127,4,118,2],[128,2,119,0],[129,2,121,0],[129,6,121,0,"_default"],[129,14,121,0],[129,17,121,15],[129,21,121,19,"AuthController"],[129,35,121,33],[129,36,121,34],[129,37,121,35],[130,0,121,36],[130,3]],"functionMap":{"names":["<global>","webStorage.setItem","webStorage.getItem","webStorage.removeItem","AuthController","login","register","logout","getCurrentUser","getToken","getStoredUser","isAuthenticated","getAuthHeaders"],"mappings":"AAA;ECQ;GDI;EEC;GFK;EGC;GHI;AIM;ECG;GDsB;EEE;GFO;EGE;GHI;EIE;GJc;EKE;GLU;EME;GNO;EOE;GPG;EQG;GRG;CJC"},"hasCjsExports":false},"type":"js/module"}]}