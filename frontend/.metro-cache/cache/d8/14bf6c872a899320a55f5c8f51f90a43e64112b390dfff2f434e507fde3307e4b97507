{"dependencies":[{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":26,"index":26}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":27},"end":{"line":2,"column":69,"index":96}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _axios = require(_dependencyMap[0], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  const API_BASE_URL = process.env.EXPO_PUBLIC_BACKEND_URL;\n\n  // Simple storage fallback for web\n  const webStorage = {\n    async setItem(key, value) {\n      if (false) {\n        localStorage.setItem(key, value);\n      }\n    },\n    async getItem(key) {\n      if (false) {\n        return localStorage.getItem(key);\n      }\n      return null;\n    },\n    async removeItem(key) {\n      if (false) {\n        localStorage.removeItem(key);\n      }\n    }\n  };\n\n  // Use web storage on web, AsyncStorage on mobile\n  const storage = false ? webStorage : AsyncStorage.default;\n  class AuthController {\n    token = null;\n    async login(credentials) {\n      try {\n        console.log('üîê AuthController login called with:', credentials.cpf);\n        console.log('üåê API URL:', API_BASE_URL);\n        const response = await axios.default.post(`${API_BASE_URL}/api/auth/login`, credentials);\n        const authData = response.data;\n        console.log('‚úÖ Login API response received:', {\n          user: authData.user.full_name\n        });\n\n        // Store token\n        this.token = authData.access_token;\n        await storage.setItem('auth_token', authData.access_token);\n        await storage.setItem('user_data', JSON.stringify(authData.user));\n        console.log('‚úÖ Token and user data stored');\n        return authData;\n      } catch (error) {\n        console.error('‚ùå Login error:', error);\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    }\n    async register(userData) {\n      try {\n        const response = await axios.default.post(`${API_BASE_URL}/api/auth/register`, userData);\n        return response.data;\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Registration failed');\n      }\n    }\n    async logout() {\n      this.token = null;\n      await storage.removeItem('auth_token');\n      await storage.removeItem('user_data');\n    }\n    async getCurrentUser() {\n      try {\n        const token = await this.getToken();\n        if (!token) return null;\n        const response = await axios.default.get(`${API_BASE_URL}/api/auth/me`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        return response.data;\n      } catch (error) {\n        await this.logout(); // Clear invalid token\n        return null;\n      }\n    }\n    async getToken() {\n      if (this.token) return this.token;\n      try {\n        const token = await storage.getItem('auth_token');\n        this.token = token;\n        return token;\n      } catch (error) {\n        return null;\n      }\n    }\n    async getStoredUser() {\n      try {\n        const userDataStr = await storage.getItem('user_data');\n        return userDataStr ? JSON.parse(userDataStr) : null;\n      } catch (error) {\n        return null;\n      }\n    }\n    async isAuthenticated() {\n      const token = await this.getToken();\n      return !!token;\n    }\n\n    // Helper method to get headers with auth token\n    async getAuthHeaders() {\n      const token = await this.getToken();\n      return token ? {\n        Authorization: `Bearer ${token}`\n      } : {};\n    }\n  }\n  var _default = new AuthController();\n});","lineCount":129,"map":[[12,2,121,0,"Object"],[12,8,121,0],[12,9,121,0,"defineProperty"],[12,23,121,0],[12,24,121,0,"exports"],[12,31,121,0],[13,4,121,0,"enumerable"],[13,14,121,0],[14,4,121,0,"get"],[14,7,121,0],[14,18,121,0,"get"],[14,19,121,0],[15,6,121,0],[15,13,121,0,"_default"],[15,21,121,0],[16,4,121,0],[17,2,121,0],[18,2,1,0],[18,6,1,0,"_axios"],[18,12,1,0],[18,15,1,0,"require"],[18,22,1,0],[18,23,1,0,"_dependencyMap"],[18,37,1,0],[19,2,1,0],[19,6,1,0,"axios"],[19,11,1,0],[19,14,1,0,"_interopDefault"],[19,29,1,0],[19,30,1,0,"_axios"],[19,36,1,0],[20,2,2,0],[20,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[20,42,2,0],[20,45,2,0,"require"],[20,52,2,0],[20,53,2,0,"_dependencyMap"],[20,67,2,0],[21,2,2,0],[21,6,2,0,"AsyncStorage"],[21,18,2,0],[21,21,2,0,"_interopDefault"],[21,36,2,0],[21,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[21,73,2,0],[22,2,5,0],[22,8,5,6,"API_BASE_URL"],[22,20,5,18],[22,23,5,21,"process"],[22,30,5,28],[22,31,5,29,"env"],[22,34,5,32],[22,35,5,33,"EXPO_PUBLIC_BACKEND_URL"],[22,58,5,56],[24,2,7,0],[25,2,8,0],[25,8,8,6,"webStorage"],[25,18,8,16],[25,21,8,19],[26,4,9,2],[26,10,9,8,"setItem"],[26,17,9,15,"setItem"],[26,18,9,16,"key"],[26,21,9,27],[26,23,9,29,"value"],[26,28,9,42],[26,30,9,44],[27,6,10,4],[27,17,10,39],[28,8,11,6,"localStorage"],[28,20,11,18],[28,21,11,19,"setItem"],[28,28,11,26],[28,29,11,27,"key"],[28,32,11,30],[28,34,11,32,"value"],[28,39,11,37],[28,40,11,38],[29,6,12,4],[30,4,13,2],[30,5,13,3],[31,4,14,2],[31,10,14,8,"getItem"],[31,17,14,15,"getItem"],[31,18,14,16,"key"],[31,21,14,27],[31,23,14,29],[32,6,15,4],[32,17,15,39],[33,8,16,6],[33,15,16,13,"localStorage"],[33,27,16,25],[33,28,16,26,"getItem"],[33,35,16,33],[33,36,16,34,"key"],[33,39,16,37],[33,40,16,38],[34,6,17,4],[35,6,18,4],[35,13,18,11],[35,17,18,15],[36,4,19,2],[36,5,19,3],[37,4,20,2],[37,10,20,8,"removeItem"],[37,20,20,18,"removeItem"],[37,21,20,19,"key"],[37,24,20,30],[37,26,20,32],[38,6,21,4],[38,17,21,39],[39,8,22,6,"localStorage"],[39,20,22,18],[39,21,22,19,"removeItem"],[39,31,22,29],[39,32,22,30,"key"],[39,35,22,33],[39,36,22,34],[40,6,23,4],[41,4,24,2],[42,2,25,0],[42,3,25,1],[44,2,27,0],[45,2,28,0],[45,8,28,6,"storage"],[45,15,28,13],[45,18,28,16],[45,26,28,48,"webStorage"],[45,36,28,58],[45,39,28,61,"AsyncStorage"],[45,51,28,73],[45,52,28,73,"default"],[45,59,28,73],[46,2,30,0],[46,8,30,6,"AuthController"],[46,22,30,20],[46,23,30,21],[47,4,31,10,"token"],[47,9,31,15],[47,12,31,33],[47,16,31,37],[48,4,33,2],[48,10,33,8,"login"],[48,15,33,13,"login"],[48,16,33,14,"credentials"],[48,27,33,43],[48,29,33,68],[49,6,34,4],[49,10,34,8],[50,8,35,6,"console"],[50,15,35,13],[50,16,35,14,"log"],[50,19,35,17],[50,20,35,18],[50,58,35,56],[50,60,35,58,"credentials"],[50,71,35,69],[50,72,35,70,"cpf"],[50,75,35,73],[50,76,35,74],[51,8,36,6,"console"],[51,15,36,13],[51,16,36,14,"log"],[51,19,36,17],[51,20,36,18],[51,33,36,31],[51,35,36,33,"API_BASE_URL"],[51,47,36,45],[51,48,36,46],[52,8,38,6],[52,14,38,12,"response"],[52,22,38,20],[52,25,38,23],[52,31,38,29,"axios"],[52,36,38,34],[52,37,38,34,"default"],[52,44,38,34],[52,45,38,35,"post"],[52,49,38,39],[52,50,38,40],[52,53,38,43,"API_BASE_URL"],[52,65,38,55],[52,82,38,72],[52,84,38,74,"credentials"],[52,95,38,85],[52,96,38,86],[53,8,39,6],[53,14,39,12,"authData"],[53,22,39,34],[53,25,39,37,"response"],[53,33,39,45],[53,34,39,46,"data"],[53,38,39,50],[54,8,41,6,"console"],[54,15,41,13],[54,16,41,14,"log"],[54,19,41,17],[54,20,41,18],[54,52,41,50],[54,54,41,52],[55,10,41,54,"user"],[55,14,41,58],[55,16,41,60,"authData"],[55,24,41,68],[55,25,41,69,"user"],[55,29,41,73],[55,30,41,74,"full_name"],[56,8,41,84],[56,9,41,85],[56,10,41,86],[58,8,43,6],[59,8,44,6],[59,12,44,10],[59,13,44,11,"token"],[59,18,44,16],[59,21,44,19,"authData"],[59,29,44,27],[59,30,44,28,"access_token"],[59,42,44,40],[60,8,45,6],[60,14,45,12,"storage"],[60,21,45,19],[60,22,45,20,"setItem"],[60,29,45,27],[60,30,45,28],[60,42,45,40],[60,44,45,42,"authData"],[60,52,45,50],[60,53,45,51,"access_token"],[60,65,45,63],[60,66,45,64],[61,8,46,6],[61,14,46,12,"storage"],[61,21,46,19],[61,22,46,20,"setItem"],[61,29,46,27],[61,30,46,28],[61,41,46,39],[61,43,46,41,"JSON"],[61,47,46,45],[61,48,46,46,"stringify"],[61,57,46,55],[61,58,46,56,"authData"],[61,66,46,64],[61,67,46,65,"user"],[61,71,46,69],[61,72,46,70],[61,73,46,71],[62,8,48,6,"console"],[62,15,48,13],[62,16,48,14,"log"],[62,19,48,17],[62,20,48,18],[62,50,48,48],[62,51,48,49],[63,8,50,6],[63,15,50,13,"authData"],[63,23,50,21],[64,6,51,4],[64,7,51,5],[64,8,51,6],[64,15,51,13,"error"],[64,20,51,23],[64,22,51,25],[65,8,52,6,"console"],[65,15,52,13],[65,16,52,14,"error"],[65,21,52,19],[65,22,52,20],[65,38,52,36],[65,40,52,38,"error"],[65,45,52,43],[65,46,52,44],[66,8,53,6],[66,14,53,12],[66,18,53,16,"Error"],[66,23,53,21],[66,24,53,22,"error"],[66,29,53,27],[66,30,53,28,"response"],[66,38,53,36],[66,40,53,38,"data"],[66,44,53,42],[66,46,53,44,"detail"],[66,52,53,50],[66,56,53,54],[66,70,53,68],[66,71,53,69],[67,6,54,4],[68,4,55,2],[69,4,57,2],[69,10,57,8,"register"],[69,18,57,16,"register"],[69,19,57,17,"userData"],[69,27,57,39],[69,29,57,56],[70,6,58,4],[70,10,58,8],[71,8,59,6],[71,14,59,12,"response"],[71,22,59,20],[71,25,59,23],[71,31,59,29,"axios"],[71,36,59,34],[71,37,59,34,"default"],[71,44,59,34],[71,45,59,35,"post"],[71,49,59,39],[71,50,59,40],[71,53,59,43,"API_BASE_URL"],[71,65,59,55],[71,85,59,75],[71,87,59,77,"userData"],[71,95,59,85],[71,96,59,86],[72,8,60,6],[72,15,60,13,"response"],[72,23,60,21],[72,24,60,22,"data"],[72,28,60,26],[73,6,61,4],[73,7,61,5],[73,8,61,6],[73,15,61,13,"error"],[73,20,61,23],[73,22,61,25],[74,8,62,6],[74,14,62,12],[74,18,62,16,"Error"],[74,23,62,21],[74,24,62,22,"error"],[74,29,62,27],[74,30,62,28,"response"],[74,38,62,36],[74,40,62,38,"data"],[74,44,62,42],[74,46,62,44,"detail"],[74,52,62,50],[74,56,62,54],[74,77,62,75],[74,78,62,76],[75,6,63,4],[76,4,64,2],[77,4,66,2],[77,10,66,8,"logout"],[77,16,66,14,"logout"],[77,17,66,14],[77,19,66,32],[78,6,67,4],[78,10,67,8],[78,11,67,9,"token"],[78,16,67,14],[78,19,67,17],[78,23,67,21],[79,6,68,4],[79,12,68,10,"storage"],[79,19,68,17],[79,20,68,18,"removeItem"],[79,30,68,28],[79,31,68,29],[79,43,68,41],[79,44,68,42],[80,6,69,4],[80,12,69,10,"storage"],[80,19,69,17],[80,20,69,18,"removeItem"],[80,30,69,28],[80,31,69,29],[80,42,69,40],[80,43,69,41],[81,4,70,2],[82,4,72,2],[82,10,72,8,"getCurrentUser"],[82,24,72,22,"getCurrentUser"],[82,25,72,22],[82,27,72,47],[83,6,73,4],[83,10,73,8],[84,8,74,6],[84,14,74,12,"token"],[84,19,74,17],[84,22,74,20],[84,28,74,26],[84,32,74,30],[84,33,74,31,"getToken"],[84,41,74,39],[84,42,74,40],[84,43,74,41],[85,8,75,6],[85,12,75,10],[85,13,75,11,"token"],[85,18,75,16],[85,20,75,18],[85,27,75,25],[85,31,75,29],[86,8,77,6],[86,14,77,12,"response"],[86,22,77,20],[86,25,77,23],[86,31,77,29,"axios"],[86,36,77,34],[86,37,77,34,"default"],[86,44,77,34],[86,45,77,35,"get"],[86,48,77,38],[86,49,77,39],[86,52,77,42,"API_BASE_URL"],[86,64,77,54],[86,78,77,68],[86,80,77,70],[87,10,78,8,"headers"],[87,17,78,15],[87,19,78,17],[88,12,78,19,"Authorization"],[88,25,78,32],[88,27,78,34],[88,37,78,44,"token"],[88,42,78,49],[89,10,78,52],[90,8,79,6],[90,9,79,7],[90,10,79,8],[91,8,81,6],[91,15,81,13,"response"],[91,23,81,21],[91,24,81,22,"data"],[91,28,81,26],[92,6,82,4],[92,7,82,5],[92,8,82,6],[92,15,82,13,"error"],[92,20,82,18],[92,22,82,20],[93,8,83,6],[93,14,83,12],[93,18,83,16],[93,19,83,17,"logout"],[93,25,83,23],[93,26,83,24],[93,27,83,25],[93,28,83,26],[93,29,83,27],[94,8,84,6],[94,15,84,13],[94,19,84,17],[95,6,85,4],[96,4,86,2],[97,4,88,2],[97,10,88,8,"getToken"],[97,18,88,16,"getToken"],[97,19,88,16],[97,21,88,43],[98,6,89,4],[98,10,89,8],[98,14,89,12],[98,15,89,13,"token"],[98,20,89,18],[98,22,89,20],[98,29,89,27],[98,33,89,31],[98,34,89,32,"token"],[98,39,89,37],[99,6,91,4],[99,10,91,8],[100,8,92,6],[100,14,92,12,"token"],[100,19,92,17],[100,22,92,20],[100,28,92,26,"storage"],[100,35,92,33],[100,36,92,34,"getItem"],[100,43,92,41],[100,44,92,42],[100,56,92,54],[100,57,92,55],[101,8,93,6],[101,12,93,10],[101,13,93,11,"token"],[101,18,93,16],[101,21,93,19,"token"],[101,26,93,24],[102,8,94,6],[102,15,94,13,"token"],[102,20,94,18],[103,6,95,4],[103,7,95,5],[103,8,95,6],[103,15,95,13,"error"],[103,20,95,18],[103,22,95,20],[104,8,96,6],[104,15,96,13],[104,19,96,17],[105,6,97,4],[106,4,98,2],[107,4,100,2],[107,10,100,8,"getStoredUser"],[107,23,100,21,"getStoredUser"],[107,24,100,21],[107,26,100,46],[108,6,101,4],[108,10,101,8],[109,8,102,6],[109,14,102,12,"userDataStr"],[109,25,102,23],[109,28,102,26],[109,34,102,32,"storage"],[109,41,102,39],[109,42,102,40,"getItem"],[109,49,102,47],[109,50,102,48],[109,61,102,59],[109,62,102,60],[110,8,103,6],[110,15,103,13,"userDataStr"],[110,26,103,24],[110,29,103,27,"JSON"],[110,33,103,31],[110,34,103,32,"parse"],[110,39,103,37],[110,40,103,38,"userDataStr"],[110,51,103,49],[110,52,103,50],[110,55,103,53],[110,59,103,57],[111,6,104,4],[111,7,104,5],[111,8,104,6],[111,15,104,13,"error"],[111,20,104,18],[111,22,104,20],[112,8,105,6],[112,15,105,13],[112,19,105,17],[113,6,106,4],[114,4,107,2],[115,4,109,2],[115,10,109,8,"isAuthenticated"],[115,25,109,23,"isAuthenticated"],[115,26,109,23],[115,28,109,44],[116,6,110,4],[116,12,110,10,"token"],[116,17,110,15],[116,20,110,18],[116,26,110,24],[116,30,110,28],[116,31,110,29,"getToken"],[116,39,110,37],[116,40,110,38],[116,41,110,39],[117,6,111,4],[117,13,111,11],[117,14,111,12],[117,15,111,13,"token"],[117,20,111,18],[118,4,112,2],[120,4,114,2],[121,4,115,2],[121,10,115,8,"getAuthHeaders"],[121,24,115,22,"getAuthHeaders"],[121,25,115,22],[121,27,115,66],[122,6,116,4],[122,12,116,10,"token"],[122,17,116,15],[122,20,116,18],[122,26,116,24],[122,30,116,28],[122,31,116,29,"getToken"],[122,39,116,37],[122,40,116,38],[122,41,116,39],[123,6,117,4],[123,13,117,11,"token"],[123,18,117,16],[123,21,117,19],[124,8,117,21,"Authorization"],[124,21,117,34],[124,23,117,36],[124,33,117,46,"token"],[124,38,117,51],[125,6,117,54],[125,7,117,55],[125,10,117,58],[125,11,117,59],[125,12,117,60],[126,4,118,2],[127,2,119,0],[128,2,121,0],[128,6,121,0,"_default"],[128,14,121,0],[128,17,121,15],[128,21,121,19,"AuthController"],[128,35,121,33],[128,36,121,34],[128,37,121,35],[129,0,121,36],[129,3]],"functionMap":{"names":["<global>","webStorage.setItem","webStorage.getItem","webStorage.removeItem","AuthController","login","register","logout","getCurrentUser","getToken","getStoredUser","isAuthenticated","getAuthHeaders"],"mappings":"AAA;ECQ;GDI;EEC;GFK;EGC;GHI;AIM;ECG;GDsB;EEE;GFO;EGE;GHI;EIE;GJc;EKE;GLU;EME;GNO;EOE;GPG;EQG;GRG;CJC"},"hasCjsExports":false},"type":"js/module"}]}