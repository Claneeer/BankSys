{"dependencies":[{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":26,"index":26}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":27},"end":{"line":2,"column":69,"index":96}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _axios = require(_dependencyMap[0], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  const API_BASE_URL = process.env.EXPO_PUBLIC_BACKEND_URL;\n  class AuthController {\n    token = null;\n    async login(credentials) {\n      try {\n        const response = await axios.default.post(`${API_BASE_URL}/api/auth/login`, credentials);\n        const authData = response.data;\n\n        // Store token\n        this.token = authData.access_token;\n        await AsyncStorage.default.setItem('auth_token', authData.access_token);\n        await AsyncStorage.default.setItem('user_data', JSON.stringify(authData.user));\n        return authData;\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    }\n    async register(userData) {\n      try {\n        const response = await axios.default.post(`${API_BASE_URL}/api/auth/register`, userData);\n        return response.data;\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Registration failed');\n      }\n    }\n    async logout() {\n      this.token = null;\n      await AsyncStorage.default.removeItem('auth_token');\n      await AsyncStorage.default.removeItem('user_data');\n    }\n    async getCurrentUser() {\n      try {\n        const token = await this.getToken();\n        if (!token) return null;\n        const response = await axios.default.get(`${API_BASE_URL}/api/auth/me`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        return response.data;\n      } catch (error) {\n        await this.logout(); // Clear invalid token\n        return null;\n      }\n    }\n    async getToken() {\n      if (this.token) return this.token;\n      try {\n        const token = await AsyncStorage.default.getItem('auth_token');\n        this.token = token;\n        return token;\n      } catch (error) {\n        return null;\n      }\n    }\n    async getStoredUser() {\n      try {\n        const userDataStr = await AsyncStorage.default.getItem('user_data');\n        return userDataStr ? JSON.parse(userDataStr) : null;\n      } catch (error) {\n        return null;\n      }\n    }\n    async isAuthenticated() {\n      const token = await this.getToken();\n      return !!token;\n    }\n\n    // Helper method to get headers with auth token\n    async getAuthHeaders() {\n      const token = await this.getToken();\n      return token ? {\n        Authorization: `Bearer ${token}`\n      } : {};\n    }\n  }\n  var _default = new AuthController();\n});","lineCount":99,"map":[[12,2,90,0,"Object"],[12,8,90,0],[12,9,90,0,"defineProperty"],[12,23,90,0],[12,24,90,0,"exports"],[12,31,90,0],[13,4,90,0,"enumerable"],[13,14,90,0],[14,4,90,0,"get"],[14,7,90,0],[14,18,90,0,"get"],[14,19,90,0],[15,6,90,0],[15,13,90,0,"_default"],[15,21,90,0],[16,4,90,0],[17,2,90,0],[18,2,1,0],[18,6,1,0,"_axios"],[18,12,1,0],[18,15,1,0,"require"],[18,22,1,0],[18,23,1,0,"_dependencyMap"],[18,37,1,0],[19,2,1,0],[19,6,1,0,"axios"],[19,11,1,0],[19,14,1,0,"_interopDefault"],[19,29,1,0],[19,30,1,0,"_axios"],[19,36,1,0],[20,2,2,0],[20,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[20,42,2,0],[20,45,2,0,"require"],[20,52,2,0],[20,53,2,0,"_dependencyMap"],[20,67,2,0],[21,2,2,0],[21,6,2,0,"AsyncStorage"],[21,18,2,0],[21,21,2,0,"_interopDefault"],[21,36,2,0],[21,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[21,73,2,0],[22,2,5,0],[22,8,5,6,"API_BASE_URL"],[22,20,5,18],[22,23,5,21,"process"],[22,30,5,28],[22,31,5,29,"env"],[22,34,5,32],[22,35,5,33,"EXPO_PUBLIC_BACKEND_URL"],[22,58,5,56],[23,2,7,0],[23,8,7,6,"AuthController"],[23,22,7,20],[23,23,7,21],[24,4,8,10,"token"],[24,9,8,15],[24,12,8,33],[24,16,8,37],[25,4,10,2],[25,10,10,8,"login"],[25,15,10,13,"login"],[25,16,10,14,"credentials"],[25,27,10,43],[25,29,10,68],[26,6,11,4],[26,10,11,8],[27,8,12,6],[27,14,12,12,"response"],[27,22,12,20],[27,25,12,23],[27,31,12,29,"axios"],[27,36,12,34],[27,37,12,34,"default"],[27,44,12,34],[27,45,12,35,"post"],[27,49,12,39],[27,50,12,40],[27,53,12,43,"API_BASE_URL"],[27,65,12,55],[27,82,12,72],[27,84,12,74,"credentials"],[27,95,12,85],[27,96,12,86],[28,8,13,6],[28,14,13,12,"authData"],[28,22,13,34],[28,25,13,37,"response"],[28,33,13,45],[28,34,13,46,"data"],[28,38,13,50],[30,8,15,6],[31,8,16,6],[31,12,16,10],[31,13,16,11,"token"],[31,18,16,16],[31,21,16,19,"authData"],[31,29,16,27],[31,30,16,28,"access_token"],[31,42,16,40],[32,8,17,6],[32,14,17,12,"AsyncStorage"],[32,26,17,24],[32,27,17,24,"default"],[32,34,17,24],[32,35,17,25,"setItem"],[32,42,17,32],[32,43,17,33],[32,55,17,45],[32,57,17,47,"authData"],[32,65,17,55],[32,66,17,56,"access_token"],[32,78,17,68],[32,79,17,69],[33,8,18,6],[33,14,18,12,"AsyncStorage"],[33,26,18,24],[33,27,18,24,"default"],[33,34,18,24],[33,35,18,25,"setItem"],[33,42,18,32],[33,43,18,33],[33,54,18,44],[33,56,18,46,"JSON"],[33,60,18,50],[33,61,18,51,"stringify"],[33,70,18,60],[33,71,18,61,"authData"],[33,79,18,69],[33,80,18,70,"user"],[33,84,18,74],[33,85,18,75],[33,86,18,76],[34,8,20,6],[34,15,20,13,"authData"],[34,23,20,21],[35,6,21,4],[35,7,21,5],[35,8,21,6],[35,15,21,13,"error"],[35,20,21,23],[35,22,21,25],[36,8,22,6],[36,14,22,12],[36,18,22,16,"Error"],[36,23,22,21],[36,24,22,22,"error"],[36,29,22,27],[36,30,22,28,"response"],[36,38,22,36],[36,40,22,38,"data"],[36,44,22,42],[36,46,22,44,"detail"],[36,52,22,50],[36,56,22,54],[36,70,22,68],[36,71,22,69],[37,6,23,4],[38,4,24,2],[39,4,26,2],[39,10,26,8,"register"],[39,18,26,16,"register"],[39,19,26,17,"userData"],[39,27,26,39],[39,29,26,56],[40,6,27,4],[40,10,27,8],[41,8,28,6],[41,14,28,12,"response"],[41,22,28,20],[41,25,28,23],[41,31,28,29,"axios"],[41,36,28,34],[41,37,28,34,"default"],[41,44,28,34],[41,45,28,35,"post"],[41,49,28,39],[41,50,28,40],[41,53,28,43,"API_BASE_URL"],[41,65,28,55],[41,85,28,75],[41,87,28,77,"userData"],[41,95,28,85],[41,96,28,86],[42,8,29,6],[42,15,29,13,"response"],[42,23,29,21],[42,24,29,22,"data"],[42,28,29,26],[43,6,30,4],[43,7,30,5],[43,8,30,6],[43,15,30,13,"error"],[43,20,30,23],[43,22,30,25],[44,8,31,6],[44,14,31,12],[44,18,31,16,"Error"],[44,23,31,21],[44,24,31,22,"error"],[44,29,31,27],[44,30,31,28,"response"],[44,38,31,36],[44,40,31,38,"data"],[44,44,31,42],[44,46,31,44,"detail"],[44,52,31,50],[44,56,31,54],[44,77,31,75],[44,78,31,76],[45,6,32,4],[46,4,33,2],[47,4,35,2],[47,10,35,8,"logout"],[47,16,35,14,"logout"],[47,17,35,14],[47,19,35,32],[48,6,36,4],[48,10,36,8],[48,11,36,9,"token"],[48,16,36,14],[48,19,36,17],[48,23,36,21],[49,6,37,4],[49,12,37,10,"AsyncStorage"],[49,24,37,22],[49,25,37,22,"default"],[49,32,37,22],[49,33,37,23,"removeItem"],[49,43,37,33],[49,44,37,34],[49,56,37,46],[49,57,37,47],[50,6,38,4],[50,12,38,10,"AsyncStorage"],[50,24,38,22],[50,25,38,22,"default"],[50,32,38,22],[50,33,38,23,"removeItem"],[50,43,38,33],[50,44,38,34],[50,55,38,45],[50,56,38,46],[51,4,39,2],[52,4,41,2],[52,10,41,8,"getCurrentUser"],[52,24,41,22,"getCurrentUser"],[52,25,41,22],[52,27,41,47],[53,6,42,4],[53,10,42,8],[54,8,43,6],[54,14,43,12,"token"],[54,19,43,17],[54,22,43,20],[54,28,43,26],[54,32,43,30],[54,33,43,31,"getToken"],[54,41,43,39],[54,42,43,40],[54,43,43,41],[55,8,44,6],[55,12,44,10],[55,13,44,11,"token"],[55,18,44,16],[55,20,44,18],[55,27,44,25],[55,31,44,29],[56,8,46,6],[56,14,46,12,"response"],[56,22,46,20],[56,25,46,23],[56,31,46,29,"axios"],[56,36,46,34],[56,37,46,34,"default"],[56,44,46,34],[56,45,46,35,"get"],[56,48,46,38],[56,49,46,39],[56,52,46,42,"API_BASE_URL"],[56,64,46,54],[56,78,46,68],[56,80,46,70],[57,10,47,8,"headers"],[57,17,47,15],[57,19,47,17],[58,12,47,19,"Authorization"],[58,25,47,32],[58,27,47,34],[58,37,47,44,"token"],[58,42,47,49],[59,10,47,52],[60,8,48,6],[60,9,48,7],[60,10,48,8],[61,8,50,6],[61,15,50,13,"response"],[61,23,50,21],[61,24,50,22,"data"],[61,28,50,26],[62,6,51,4],[62,7,51,5],[62,8,51,6],[62,15,51,13,"error"],[62,20,51,18],[62,22,51,20],[63,8,52,6],[63,14,52,12],[63,18,52,16],[63,19,52,17,"logout"],[63,25,52,23],[63,26,52,24],[63,27,52,25],[63,28,52,26],[63,29,52,27],[64,8,53,6],[64,15,53,13],[64,19,53,17],[65,6,54,4],[66,4,55,2],[67,4,57,2],[67,10,57,8,"getToken"],[67,18,57,16,"getToken"],[67,19,57,16],[67,21,57,43],[68,6,58,4],[68,10,58,8],[68,14,58,12],[68,15,58,13,"token"],[68,20,58,18],[68,22,58,20],[68,29,58,27],[68,33,58,31],[68,34,58,32,"token"],[68,39,58,37],[69,6,60,4],[69,10,60,8],[70,8,61,6],[70,14,61,12,"token"],[70,19,61,17],[70,22,61,20],[70,28,61,26,"AsyncStorage"],[70,40,61,38],[70,41,61,38,"default"],[70,48,61,38],[70,49,61,39,"getItem"],[70,56,61,46],[70,57,61,47],[70,69,61,59],[70,70,61,60],[71,8,62,6],[71,12,62,10],[71,13,62,11,"token"],[71,18,62,16],[71,21,62,19,"token"],[71,26,62,24],[72,8,63,6],[72,15,63,13,"token"],[72,20,63,18],[73,6,64,4],[73,7,64,5],[73,8,64,6],[73,15,64,13,"error"],[73,20,64,18],[73,22,64,20],[74,8,65,6],[74,15,65,13],[74,19,65,17],[75,6,66,4],[76,4,67,2],[77,4,69,2],[77,10,69,8,"getStoredUser"],[77,23,69,21,"getStoredUser"],[77,24,69,21],[77,26,69,46],[78,6,70,4],[78,10,70,8],[79,8,71,6],[79,14,71,12,"userDataStr"],[79,25,71,23],[79,28,71,26],[79,34,71,32,"AsyncStorage"],[79,46,71,44],[79,47,71,44,"default"],[79,54,71,44],[79,55,71,45,"getItem"],[79,62,71,52],[79,63,71,53],[79,74,71,64],[79,75,71,65],[80,8,72,6],[80,15,72,13,"userDataStr"],[80,26,72,24],[80,29,72,27,"JSON"],[80,33,72,31],[80,34,72,32,"parse"],[80,39,72,37],[80,40,72,38,"userDataStr"],[80,51,72,49],[80,52,72,50],[80,55,72,53],[80,59,72,57],[81,6,73,4],[81,7,73,5],[81,8,73,6],[81,15,73,13,"error"],[81,20,73,18],[81,22,73,20],[82,8,74,6],[82,15,74,13],[82,19,74,17],[83,6,75,4],[84,4,76,2],[85,4,78,2],[85,10,78,8,"isAuthenticated"],[85,25,78,23,"isAuthenticated"],[85,26,78,23],[85,28,78,44],[86,6,79,4],[86,12,79,10,"token"],[86,17,79,15],[86,20,79,18],[86,26,79,24],[86,30,79,28],[86,31,79,29,"getToken"],[86,39,79,37],[86,40,79,38],[86,41,79,39],[87,6,80,4],[87,13,80,11],[87,14,80,12],[87,15,80,13,"token"],[87,20,80,18],[88,4,81,2],[90,4,83,2],[91,4,84,2],[91,10,84,8,"getAuthHeaders"],[91,24,84,22,"getAuthHeaders"],[91,25,84,22],[91,27,84,66],[92,6,85,4],[92,12,85,10,"token"],[92,17,85,15],[92,20,85,18],[92,26,85,24],[92,30,85,28],[92,31,85,29,"getToken"],[92,39,85,37],[92,40,85,38],[92,41,85,39],[93,6,86,4],[93,13,86,11,"token"],[93,18,86,16],[93,21,86,19],[94,8,86,21,"Authorization"],[94,21,86,34],[94,23,86,36],[94,33,86,46,"token"],[94,38,86,51],[95,6,86,54],[95,7,86,55],[95,10,86,58],[95,11,86,59],[95,12,86,60],[96,4,87,2],[97,2,88,0],[98,2,90,0],[98,6,90,0,"_default"],[98,14,90,0],[98,17,90,15],[98,21,90,19,"AuthController"],[98,35,90,33],[98,36,90,34],[98,37,90,35],[99,0,90,36],[99,3]],"functionMap":{"names":["<global>","AuthController","login","register","logout","getCurrentUser","getToken","getStoredUser","isAuthenticated","getAuthHeaders"],"mappings":"AAA;ACM;ECG;GDc;EEE;GFO;EGE;GHI;EIE;GJc;EKE;GLU;EME;GNO;EOE;GPG;EQG;GRG;CDC"},"hasCjsExports":false},"type":"js/module"}]}