{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"]}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":26,"index":26}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"]}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":27},"end":{"line":2,"column":69,"index":96}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  var _env2 = require(_dependencyMap[1], \"expo/virtual/env\");\n  var _axios = _interopRequireDefault(require(_dependencyMap[2], \"axios\"));\n  var _asyncStorage = _interopRequireDefault(require(_dependencyMap[3], \"@react-native-async-storage/async-storage\"));\n  const API_BASE_URL = _env2.env.EXPO_PUBLIC_BACKEND_URL;\n  class AuthController {\n    token = null;\n    async login(credentials) {\n      try {\n        const response = await _axios.default.post(`${API_BASE_URL}/api/auth/login`, credentials);\n        const authData = response.data;\n\n        // Store token\n        this.token = authData.access_token;\n        await _asyncStorage.default.setItem('auth_token', authData.access_token);\n        await _asyncStorage.default.setItem('user_data', JSON.stringify(authData.user));\n        return authData;\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    }\n    async register(userData) {\n      try {\n        const response = await _axios.default.post(`${API_BASE_URL}/api/auth/register`, userData);\n        return response.data;\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Registration failed');\n      }\n    }\n    async logout() {\n      this.token = null;\n      await _asyncStorage.default.removeItem('auth_token');\n      await _asyncStorage.default.removeItem('user_data');\n    }\n    async getCurrentUser() {\n      try {\n        const token = await this.getToken();\n        if (!token) return null;\n        const response = await _axios.default.get(`${API_BASE_URL}/api/auth/me`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        return response.data;\n      } catch (error) {\n        await this.logout(); // Clear invalid token\n        return null;\n      }\n    }\n    async getToken() {\n      if (this.token) return this.token;\n      try {\n        const token = await _asyncStorage.default.getItem('auth_token');\n        this.token = token;\n        return token;\n      } catch (error) {\n        return null;\n      }\n    }\n    async getStoredUser() {\n      try {\n        const userDataStr = await _asyncStorage.default.getItem('user_data');\n        return userDataStr ? JSON.parse(userDataStr) : null;\n      } catch (error) {\n        return null;\n      }\n    }\n    async isAuthenticated() {\n      const token = await this.getToken();\n      return !!token;\n    }\n\n    // Helper method to get headers with auth token\n    async getAuthHeaders() {\n      const token = await this.getToken();\n      return token ? {\n        Authorization: `Bearer ${token}`\n      } : {};\n    }\n  }\n  var _default = exports.default = new AuthController();\n});","lineCount":87,"map":[[8,2,1,0],[8,6,1,0,"_axios"],[8,12,1,0],[8,15,1,0,"_interopRequireDefault"],[8,37,1,0],[8,38,1,0,"require"],[8,45,1,0],[8,46,1,0,"_dependencyMap"],[8,60,1,0],[9,2,2,0],[9,6,2,0,"_asyncStorage"],[9,19,2,0],[9,22,2,0,"_interopRequireDefault"],[9,44,2,0],[9,45,2,0,"require"],[9,52,2,0],[9,53,2,0,"_dependencyMap"],[9,67,2,0],[10,2,5,0],[10,8,5,6,"API_BASE_URL"],[10,20,5,18],[10,23,5,18,"_env2"],[10,28,5,18],[10,29,5,18,"env"],[10,32,5,18],[10,33,5,18,"EXPO_PUBLIC_BACKEND_URL"],[10,56,5,56],[11,2,7,0],[11,8,7,6,"AuthController"],[11,22,7,20],[11,23,7,21],[12,4,8,10,"token"],[12,9,8,15],[12,12,8,33],[12,16,8,37],[13,4,10,2],[13,10,10,8,"login"],[13,15,10,13,"login"],[13,16,10,14,"credentials"],[13,27,10,43],[13,29,10,68],[14,6,11,4],[14,10,11,8],[15,8,12,6],[15,14,12,12,"response"],[15,22,12,20],[15,25,12,23],[15,31,12,29,"axios"],[15,45,12,34],[15,46,12,35,"post"],[15,50,12,39],[15,51,12,40],[15,54,12,43,"API_BASE_URL"],[15,66,12,55],[15,83,12,72],[15,85,12,74,"credentials"],[15,96,12,85],[15,97,12,86],[16,8,13,6],[16,14,13,12,"authData"],[16,22,13,34],[16,25,13,37,"response"],[16,33,13,45],[16,34,13,46,"data"],[16,38,13,50],[18,8,15,6],[19,8,16,6],[19,12,16,10],[19,13,16,11,"token"],[19,18,16,16],[19,21,16,19,"authData"],[19,29,16,27],[19,30,16,28,"access_token"],[19,42,16,40],[20,8,17,6],[20,14,17,12,"AsyncStorage"],[20,35,17,24],[20,36,17,25,"setItem"],[20,43,17,32],[20,44,17,33],[20,56,17,45],[20,58,17,47,"authData"],[20,66,17,55],[20,67,17,56,"access_token"],[20,79,17,68],[20,80,17,69],[21,8,18,6],[21,14,18,12,"AsyncStorage"],[21,35,18,24],[21,36,18,25,"setItem"],[21,43,18,32],[21,44,18,33],[21,55,18,44],[21,57,18,46,"JSON"],[21,61,18,50],[21,62,18,51,"stringify"],[21,71,18,60],[21,72,18,61,"authData"],[21,80,18,69],[21,81,18,70,"user"],[21,85,18,74],[21,86,18,75],[21,87,18,76],[22,8,20,6],[22,15,20,13,"authData"],[22,23,20,21],[23,6,21,4],[23,7,21,5],[23,8,21,6],[23,15,21,13,"error"],[23,20,21,23],[23,22,21,25],[24,8,22,6],[24,14,22,12],[24,18,22,16,"Error"],[24,23,22,21],[24,24,22,22,"error"],[24,29,22,27],[24,30,22,28,"response"],[24,38,22,36],[24,40,22,38,"data"],[24,44,22,42],[24,46,22,44,"detail"],[24,52,22,50],[24,56,22,54],[24,70,22,68],[24,71,22,69],[25,6,23,4],[26,4,24,2],[27,4,26,2],[27,10,26,8,"register"],[27,18,26,16,"register"],[27,19,26,17,"userData"],[27,27,26,39],[27,29,26,56],[28,6,27,4],[28,10,27,8],[29,8,28,6],[29,14,28,12,"response"],[29,22,28,20],[29,25,28,23],[29,31,28,29,"axios"],[29,45,28,34],[29,46,28,35,"post"],[29,50,28,39],[29,51,28,40],[29,54,28,43,"API_BASE_URL"],[29,66,28,55],[29,86,28,75],[29,88,28,77,"userData"],[29,96,28,85],[29,97,28,86],[30,8,29,6],[30,15,29,13,"response"],[30,23,29,21],[30,24,29,22,"data"],[30,28,29,26],[31,6,30,4],[31,7,30,5],[31,8,30,6],[31,15,30,13,"error"],[31,20,30,23],[31,22,30,25],[32,8,31,6],[32,14,31,12],[32,18,31,16,"Error"],[32,23,31,21],[32,24,31,22,"error"],[32,29,31,27],[32,30,31,28,"response"],[32,38,31,36],[32,40,31,38,"data"],[32,44,31,42],[32,46,31,44,"detail"],[32,52,31,50],[32,56,31,54],[32,77,31,75],[32,78,31,76],[33,6,32,4],[34,4,33,2],[35,4,35,2],[35,10,35,8,"logout"],[35,16,35,14,"logout"],[35,17,35,14],[35,19,35,32],[36,6,36,4],[36,10,36,8],[36,11,36,9,"token"],[36,16,36,14],[36,19,36,17],[36,23,36,21],[37,6,37,4],[37,12,37,10,"AsyncStorage"],[37,33,37,22],[37,34,37,23,"removeItem"],[37,44,37,33],[37,45,37,34],[37,57,37,46],[37,58,37,47],[38,6,38,4],[38,12,38,10,"AsyncStorage"],[38,33,38,22],[38,34,38,23,"removeItem"],[38,44,38,33],[38,45,38,34],[38,56,38,45],[38,57,38,46],[39,4,39,2],[40,4,41,2],[40,10,41,8,"getCurrentUser"],[40,24,41,22,"getCurrentUser"],[40,25,41,22],[40,27,41,47],[41,6,42,4],[41,10,42,8],[42,8,43,6],[42,14,43,12,"token"],[42,19,43,17],[42,22,43,20],[42,28,43,26],[42,32,43,30],[42,33,43,31,"getToken"],[42,41,43,39],[42,42,43,40],[42,43,43,41],[43,8,44,6],[43,12,44,10],[43,13,44,11,"token"],[43,18,44,16],[43,20,44,18],[43,27,44,25],[43,31,44,29],[44,8,46,6],[44,14,46,12,"response"],[44,22,46,20],[44,25,46,23],[44,31,46,29,"axios"],[44,45,46,34],[44,46,46,35,"get"],[44,49,46,38],[44,50,46,39],[44,53,46,42,"API_BASE_URL"],[44,65,46,54],[44,79,46,68],[44,81,46,70],[45,10,47,8,"headers"],[45,17,47,15],[45,19,47,17],[46,12,47,19,"Authorization"],[46,25,47,32],[46,27,47,34],[46,37,47,44,"token"],[46,42,47,49],[47,10,47,52],[48,8,48,6],[48,9,48,7],[48,10,48,8],[49,8,50,6],[49,15,50,13,"response"],[49,23,50,21],[49,24,50,22,"data"],[49,28,50,26],[50,6,51,4],[50,7,51,5],[50,8,51,6],[50,15,51,13,"error"],[50,20,51,18],[50,22,51,20],[51,8,52,6],[51,14,52,12],[51,18,52,16],[51,19,52,17,"logout"],[51,25,52,23],[51,26,52,24],[51,27,52,25],[51,28,52,26],[51,29,52,27],[52,8,53,6],[52,15,53,13],[52,19,53,17],[53,6,54,4],[54,4,55,2],[55,4,57,2],[55,10,57,8,"getToken"],[55,18,57,16,"getToken"],[55,19,57,16],[55,21,57,43],[56,6,58,4],[56,10,58,8],[56,14,58,12],[56,15,58,13,"token"],[56,20,58,18],[56,22,58,20],[56,29,58,27],[56,33,58,31],[56,34,58,32,"token"],[56,39,58,37],[57,6,60,4],[57,10,60,8],[58,8,61,6],[58,14,61,12,"token"],[58,19,61,17],[58,22,61,20],[58,28,61,26,"AsyncStorage"],[58,49,61,38],[58,50,61,39,"getItem"],[58,57,61,46],[58,58,61,47],[58,70,61,59],[58,71,61,60],[59,8,62,6],[59,12,62,10],[59,13,62,11,"token"],[59,18,62,16],[59,21,62,19,"token"],[59,26,62,24],[60,8,63,6],[60,15,63,13,"token"],[60,20,63,18],[61,6,64,4],[61,7,64,5],[61,8,64,6],[61,15,64,13,"error"],[61,20,64,18],[61,22,64,20],[62,8,65,6],[62,15,65,13],[62,19,65,17],[63,6,66,4],[64,4,67,2],[65,4,69,2],[65,10,69,8,"getStoredUser"],[65,23,69,21,"getStoredUser"],[65,24,69,21],[65,26,69,46],[66,6,70,4],[66,10,70,8],[67,8,71,6],[67,14,71,12,"userDataStr"],[67,25,71,23],[67,28,71,26],[67,34,71,32,"AsyncStorage"],[67,55,71,44],[67,56,71,45,"getItem"],[67,63,71,52],[67,64,71,53],[67,75,71,64],[67,76,71,65],[68,8,72,6],[68,15,72,13,"userDataStr"],[68,26,72,24],[68,29,72,27,"JSON"],[68,33,72,31],[68,34,72,32,"parse"],[68,39,72,37],[68,40,72,38,"userDataStr"],[68,51,72,49],[68,52,72,50],[68,55,72,53],[68,59,72,57],[69,6,73,4],[69,7,73,5],[69,8,73,6],[69,15,73,13,"error"],[69,20,73,18],[69,22,73,20],[70,8,74,6],[70,15,74,13],[70,19,74,17],[71,6,75,4],[72,4,76,2],[73,4,78,2],[73,10,78,8,"isAuthenticated"],[73,25,78,23,"isAuthenticated"],[73,26,78,23],[73,28,78,44],[74,6,79,4],[74,12,79,10,"token"],[74,17,79,15],[74,20,79,18],[74,26,79,24],[74,30,79,28],[74,31,79,29,"getToken"],[74,39,79,37],[74,40,79,38],[74,41,79,39],[75,6,80,4],[75,13,80,11],[75,14,80,12],[75,15,80,13,"token"],[75,20,80,18],[76,4,81,2],[78,4,83,2],[79,4,84,2],[79,10,84,8,"getAuthHeaders"],[79,24,84,22,"getAuthHeaders"],[79,25,84,22],[79,27,84,66],[80,6,85,4],[80,12,85,10,"token"],[80,17,85,15],[80,20,85,18],[80,26,85,24],[80,30,85,28],[80,31,85,29,"getToken"],[80,39,85,37],[80,40,85,38],[80,41,85,39],[81,6,86,4],[81,13,86,11,"token"],[81,18,86,16],[81,21,86,19],[82,8,86,21,"Authorization"],[82,21,86,34],[82,23,86,36],[82,33,86,46,"token"],[82,38,86,51],[83,6,86,54],[83,7,86,55],[83,10,86,58],[83,11,86,59],[83,12,86,60],[84,4,87,2],[85,2,88,0],[86,2,88,1],[86,6,88,1,"_default"],[86,14,88,1],[86,17,88,1,"exports"],[86,24,88,1],[86,25,88,1,"default"],[86,32,88,1],[86,35,90,15],[86,39,90,19,"AuthController"],[86,53,90,33],[86,54,90,34],[86,55,90,35],[87,0,90,35],[87,3]],"functionMap":{"names":["<global>","AuthController","login","register","logout","getCurrentUser","getToken","getStoredUser","isAuthenticated","getAuthHeaders"],"mappings":"AAA;ACM;ECG;GDc;EEE;GFO;EGE;GHI;EIE;GJc;EKE;GLU;EME;GNO;EOE;GPG;EQG;GRG;CDC"}},"type":"js/module"}]}